{% load money_tags %}

<td><a href="{% url 'money:transaction_detail' transaction.id %}">{{ transaction.id }}</a></td>
<td>{{ transaction.date | date:"Y-m-d" }}</td>

{% if not ignore_retailer %}
<td>
    {% if transaction.retailer %}
    <a href="{% url 'money:retailer_detail' transaction.retailer.id %}">{{ transaction.retailer }}</a>
    {% endif %}
</td>
{% endif %}

<td><a href="{% url 'money:account_detail' transaction.account.id %}">{{ transaction.account }}</a></td>
<td align="right">{{ transaction.amount|print_currency:transaction.account.currency }}</td>

{% if print_balance %}
<td>{{ transaction.balance | print_currency:transaction.account.currency }}</td>
{% endif %}

{% if not ignore_category %}
<td><a href="{% url 'money:category_detail' transaction.type %}">{{ transaction.type }}</a></td>
{% endif %}
<td>{{ transaction.note }}</td>

{% if print_flags %}
<td {% if transaction.is_internal %}class="table-info" {% endif %}>{{ transaction.is_internal }}</td>
<td {% if transaction.requires_detail %}class="table-warning" {% endif %}>
    {{ transaction.requires_detail }}
</td>
<td {% if not transaction.reviewed %}class="table-danger" {% endif %}><a href="" class="btn">
        {{ transaction.reviewed }}</a></td>
{% endif %}

{% if add_detail %}
<td>
    {% if transaction.requires_detail and not transaction.reviewed %}
    <a class="btn btn-primary" href="{% url 'money:transaction_detail_create' transaction.id %}">
        Add Details
    </a>
    {% elif transaction.reviewed %}
    Detail Added
    {% endif %}
</td>
{% endif %}